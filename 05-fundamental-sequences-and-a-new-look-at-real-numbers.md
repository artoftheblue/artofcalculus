# Критерий Коши

В результате работы с последовательностями мы приходим к выводу, что не всегда бывает легко установить, к чему сходится та или иная последовательность. Приходится придумывать разные трюки и способы. Но даже и этого мало во многих случаях. 

:::{prf:example}
Рассмотрим последовательность
$$
a_n = \sum_{k=1}^n \frac{1}{k^2} = 1 + \frac{1}{2^2} + \frac{1}{3^2} + \cdots + \frac{1}{n^2},
$$
Нетрудно видеть, что она ограничена. Более того, очевидно, что она монотонна. Тогда по теореме Вейерштрасса она имеет предел $\lim_{n \to \infty}a_n = \sup\{a_n\}$. Но найти его теми способами, которыми мы располагаем, очень трудно. Оказывается, что $\lim_{n \to \infty}a_n = \frac{\pi^2}{6}.$
:::

Однако теорема Вейерштрасса не всегда применима, ведь не все последовательности монотонны. 

:::{prf:example}
Рассмотрим последовательность
$$
a_n = \sum_{k=1}^n \frac{(-1)^k}{k} = 1 -\frac{1}{2} + \frac{1}{3} - \frac{1}{4} + \cdots + \frac{(-1)^{n-1}}{n}.
$$
Трудно сказать, к чему сходится эта последовательность. Более того, она не монотонна; ведь мы то прибавляем, то отнимаем. Поэтому теорема Вейерштрасса тут не применима.
:::

## Фундаментальная последовательность

Таким образом, нам нужно научиться понимать, когда последовательность сходится, не используя предел. Более точно, мы должны научиться понимать, когда последовательность сходится в терминах самой последовательности, не прибегая к дополнительным методам. 

**Иными словами, нам нужен критерий сходимости любой последовательности.**

:::{prf:definition}
:name: foundamental_sequence
Последовательность $(a_n)$ называется **фундаментальной** (=удовлетворяет условию Коши, последовательностью Коши), если для любого $\varepsilon >0$ существует такой $N$, что $|a_n -a_m| < \varepsilon$ для всех $n,m \ge N$.
:::
:::{seealso}
Идея этого определения заключается в следующем: если $\lim_{n\to \infty}a_n =a$, то, начиная с какого-то номера $N$, все $a_{N+1}, a_{N+2}, a_{N+3}, \ldots,$ **мало отличаются от** $a$, но тогда они ВСЕ также мало отличаются друг от друга.
:::

:::{prf:example}

1. Рассмотрим последовательность $(a_n) = \{\frac{1}{n}\}$ и покажем, что она фундаментальна. Это значит, что для любого $\varepsilon >0$ мы должны предъявить такой номер $N$, что для всех $n,m > N$ будет верно неравенство $|\frac{1}{n} - \frac{1}{m}| < \varepsilon$.

Воспользуемся неравенством треугольника:
$$ 
\left|\frac{1}{n} - \frac{1}{m} \right| \le \left| \frac{1}{n}\right| + \left| \frac{-1}{m} \right| = \frac{1}{n} + \frac{1}{m}, 
$$
поэтому если мы найдём хотя бы один $N$ такой, что для всех $n,m >N$ будет верно, что $ \frac{1}{n} + \frac{1}{m} <\varepsilon$, то мы и докажем, что последовательность фундаментальна. 

Но ведь если мы положим $N:=\lfloor \frac{2}{\varepsilon} \rfloor$, то для $n,m > \frac{2}{\varepsilon}$, мы тогда получаем, что 
$$
\frac{1}{n} + \frac{1}{m} < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} = \varepsilon.
$$

То есть если $N:=\lfloor \frac{2}{\varepsilon} \rfloor$, то верно неравенство $|\frac{1}{n} - \frac{1}{m}| < \varepsilon$ для всех $n,m >N$, что и показывает её фундаментальность.


2. Рассмотрим последовательность $(a_n) = \{(-1)^n\}$. Пусть $\varepsilon = 1$, тогда для любого номера $N$, $|a_n - a_{n+1}| = 2 >1$. Таким образом, эта последовательность не фундаментальна.

:::


:::{prf:lemma}
:name: cap_of_intervals
Для любой последовательности $(I_n)$ бесконечного числа вложенных друг в друга отрезков на числовой прямой, т. е. $I_{n+1} = [a_{n+1}, b_{n+1}] \subseteq [a_n, b_n] = I_n \subseteq \mathbb{R}$, длины которых стремятся к нулю, $\cap_{n=1}^\infty I_n \ne \varnothing.$ 
:::

Другими словами, для таких отрезков есть общая точка.

:::{prf:proof}
:class: dropdown
:nonumber:
По условию имеем
$$
a_1 \le a_2 \le \ldots \le a_n \le \ldots \le b_n \le \ldots \le b_2 \le b_1,
$$
Это означает, что последовательность $\{a_n\}$ не убывает и ограничена сверху. Тогда по теореме Вейерштрасса она имеет предел $\lim_{n \to \infty} a_n = \sup{a_n}$. Обозначим его через $a$. 

С другой стороны последовательность $\{b_n\}$ не возрастает и ограничена снизу, тогда мы получаем, что $\lim_{n\to \infty} b_n = \inf\{b_n\}$.

Далее, $b_n = a_n + (b_n - a_n)$, тогда по арифметике предела:
$$
\lim_{n \to \infty}b_n = \lim_{n \to \infty} a_n + \lim_{n \to \infty} (b_n - a_n) = a + 0 =a,
$$
так как по условию длины стремятся к нулю, а $b_n - a_n$ и есть длина отрезка $I_n.$

Таким образом, $\sup\{a_n\} = \inf\{b_n\} =a$, т. е. это значит, что для всех $n$, $a_n \le a \le b_n$, что и означает $a \in \cap_{n=1}^\infty I_n.$
:::


:::{prf:theorem} Критерий Коши
Последовательность сходится, если и только если она фундаментальна. 
:::

:::{prf:proof}
:class: dropdown
:nonumber:
(1) Пусть $(a_n)$ — сходящаяся последовательность, скажем, $\lim_{n \to \infty}a_n = a$. Тогда для любого $\varepsilon>0$ можно найти такой $N$, что для всех $n>N$, $|a_n - a| < \frac{\varepsilon}{2}$. Тогда для любых $n,m \ge N$
$$
|a_n - a_m| = |a_n - a + a - a_m| \le |a_n - a| + |a - a_m| < \frac{\varepsilon}{2} + \frac{\varepsilon}{2} =\varepsilon,
$$
что и означает её фундаментальность.

(2) Пусть $(a_n)$ — фундаментальная последовательность. Выберем произвольную бесконечно малую последовательность $\{\varepsilon_k\}$, т. е. $\lim_{k \to \infty} \varepsilon_k = 0$, но $\varepsilon_k >0$. Тогда для каждого $k$ найдутся такие $N_k$, что $|a_n - a_m| < \varepsilon_k$ при $n,m \ge N_k$. В частности $|a_n - a_{N_k}|<\varepsilon_k$, то есть все $a_n \in [a_{N_k}-\varepsilon_k, a_{N_k}+\varepsilon_k]$ при $n\ge N_k$.

Введём обозначения: $J_k:=[a_{N_k}-\varepsilon_k, a_{N_k}+\varepsilon_k]$, тогда видно, что $|J_k| = 2\varepsilon_k$, и тогда длины этих отрезков стремятся к нулю, так как $\lim_{k \to \infty} \varepsilon_k = 0$.

Покажем что $J_k \cap J_{k+1} \ne \varnothing$. Действительно, мы знаем что все $a_n \in J_k$ при $n\ge N_k$, а также все $a_p \in J_{k+1}$ при $p \ge N_{k+1}$, положим $N:=\max\{N_k,N_{k+1}\}$, тогда при $n>N$ все $a_n \in J_k \cap J_{k+1}$, **i.e.,** $J_k \cap J_{k+1} \ne \varnothing$.

Далее, положим
$$
I_1:=J_1, \qquad I_2:=J_1 \cap J_2, \qquad I_3: = J_1 \cap J_2 \cap J_3,\quad \ldots,
$$
таким образом, мы получили последовательность вложенных друг в друга отрезков 
$$
I_1 \supseteq I_2 \supseteq I_3 \supseteq \cdots,
$$
длины которых стремятся к нулю. Тогда по [](#cap_of_intervals) существует хотя бы одна $a \in \cap_{k=1}^\infty I_k$. Но тогда $a \in [a_{N_k}-\varepsilon_k, a_{N_k}+\varepsilon_k]$ для любого $k$, а это значит, что для любого $\varepsilon_k$ мы всегда знаем такой номер $N_k$, что $|a_n - a|<2 \varepsilon_k$. Последнее в силу единственности предела и произвольной последовательности из $\varepsilon_k$ показывает, что $\lim_{n\to \infty}a_n = a$.
:::

## Новый взгляд на действительные числа

Понятие фундаментальной последовательности естественным образом вводится в произвольном метрическом пространстве. Говорят, что метрическое пространство $X$ **полное**, если любая фундаментальная последовательность сходится к какому-то элементу из этого же $X$. В противном случае, можно ввести операцию **пополнения** $X \mapsto \bar X$, которая добавляет пределы ВСЕХ фундаментальных последовательностей. 

То есть эти последовательности и есть фундамент для построения анализа, исходя только из рациональных чисел. Поясним на примере:

Пространство $\mathbb{R}$, где расстояние между числами — это модуль их разности является полным пространством. С другой стороны, пространство $\mathbb{Q}$ с той же метрикой полным уже не является. Например, рассмотренная ранее последовательность $a_{n+1} = \frac{1}{2}\left( a_n + \frac{2}{a_n} \right)$, $a_1 =2$, имеет предел $\sqrt{2}$, который не лежит в $\mathbb{Q}$. Тогда, добавив пределы всех фундаментальных последовательностей, мы и получим $\mathbb{R}$.

Другими словами, множество действительных чисел можно определить как множество фундаментальных последовательностей из $\mathbb{Q}$ с очевидными операциями. Если $\mathbf{a} = (a_n)$, $\mathbf{b} = \{b_n\}$, то положим
\begin{align*}
& \mathbf{a} + \mathbf{b}: = \{a_n + b_n\}, \\
& \mathbf{a} + \mathbf{b}: = \{a_n \cdot b_n\}.
\end{align*}

Итак, действительные числа можно определить как
$$\Huge{
\boxed{
\boxed{
\mathbb{R}: = \overline{\mathbb{Q}}.
}
}
}
$$