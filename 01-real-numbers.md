# Действительные числа

Определение чисел обычно начинается с того, что определяется множество $\mathbb{N}$ **натуральных чисел**. Натуральные числа — это числа, которые появляются при счёте. Таким образом, $\mathbb{N} = \{1,2,\ldots,\}$. Далее определяется множество **целых чисел** $\mathbb{Z}$ как множество полученное из $\mathbb{N}$ с добавлением $0$ и противоположных по знаку чисел. Таким образом,
$$
\mathbb{Z} = \{\ldots, -2,-1,-0,1,2,\ldots,\}.
$$

Наконец, мы можем ввести множество $\mathbb{Q}$ как множество всех дробей вида $\frac{p}{q}$, где $p\in\mathbb{Z}$, $q \in \mathbb{N}$. При этом мы считаем, что $\frac{p}{q} = \frac{a}{b}$, если и только если $aq = bp$. Множество $\mathbb{Q}$ называют **множеством рациональных чисел.**

Множество действительных чисел приходится либо строить (сечения Дедекинда), либо определять аксиоматически. Мы выбираем второй путь, но также предъявляем модель для них.

Напомним, что если даны два множества $A, B$, то можно образовать декартово произведение $A\times B: = \{(a,b)\,|\, a\in A, b\in B\}$, то есть множество всех пар.

## Аксиомы действительных чисел

Введём следующее определение.

:::{prf:definition}
:name: field
Поле действительных чисел есть множество $\mathbb{R}$, для которого определены:

1. два отображения $(x,y)\mapsto x+y$ и $(x,y) \mapsto xy$ из $\mathbb{R}\times \mathbb{R}$ в $\mathbb{R}$;
2. отношение $x \le y$ (записываемое также в виде $y \ge  x$) между элементами множества $\mathbb{R},$ удовлетворяющее следующим группам аксиом:
    1. Множество $\mathbb{R}$ есть **поле**, иными словами:
        1. $x+ (y+z) = (x+y)+z;$
        2. $x+y = y+x;$
        3. существует такой элемент $0 \in \mathbb{R}$, что $0+x= x$ для каждого $x \in \mathbb{R};$
        4. для каждого элемента $x\in \mathbb{R}$ существует такой элемент $-x \in \mathbb{R}$, что $x+(-x) = 0$;
        5. $x(yz) = (xy)z;$
        6. $xy = yx;$
        7. в $\mathbb{R}$ существует такой элемент $1 \ne 0$, что $1 x = x$ для каждого $x\in \mathbb{R};$
        8. для каждого элемента $x \ne 0$ в $\mathbb{R}$ существует такой элемент $x^{-1} \in \mathbb{R}$, что $xx^{-1} = 1;$
        9. $x(y+z) = xy + xz$.

    2. Множество $\mathbb{R}$ есть **упорядоченное поле**. Это означает, что выполняются следующие аксиомы:
        1. из $x\le y$ и $y\le z$ следует $x\le z$;
        2. отношение $x\le y$, $y\le x$ эквивалентно отношению $x = y$;
        3. для любых двух элементов $x,y$ множества $\mathbb{R}$ или $x\le y$, или $y \le x$;
        4. из $x \le y$ следует $x+z \le y+z$;
        5. из $0 \le x$ и $0 \le y$ следует $0 \le xy$.
    3. Множество $\mathbb{R}$ удовлетворяет **аксиоме полноты** (=непрерывности):
если $A,B\subseteq \mathbb{R}$, $A,B \ne \varnothing$, при этом для всех $a\in A$, $b\in B$ выполняется $a \le b$ (мы это запишем как $A\le B$ и будем говорить, что **$A$ лежит левее $B$**), то существует $c \in \mathbb{R}$ такой, что $a\le c \le b$ для всех $a\in A$, $b\in B$ (говорят, что $c$ **разделяет** эти два множества).
:::


Говоря неформальным языком, аксиома полноты говорит о том, что во множестве $\mathbb{R}$ нет дыр. 

Покажем, что во множестве $\mathbb{Q}$ аксиома полноты не выполнена (то есть там дыры есть).

:::{prf:proposition}
Множество $\mathbb{Q}$ есть упорядоченное поле, в котором не выполняется аксиома полноты.
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Выполнение аксиом упорядоченного поля элементарно, и доказывать мы этого не будем. Покажем, что аксиома полноты нарушена. Для этого нам нужно предъявить два множества, скажем, $A,B$, таких, что $A \le B$, но при этом не существует $c\in \mathbb{Q}$, что $a\le c \le b$ для всех $a\in A$, $b\in B.$

Пусть $A: = \{a \in \mathbb{Q}\, | \, a >0, a^2 <2\}$ и $B: = \{b \in \mathbb{Q}\, |\, b>0, b^2 >2\}$. Покажем, что $A\le B$. Действительно, если $a\in A$, $b \in B$, то тогда $a^2 <2$, $b^2 >2$, то есть мы можем записать $a^2<2<b^2$. Это значит, что $a^2<b^2$ или, что равносильно, $b^2-a^2>0$, $(b-a)(b+a)>0$. Так как $a,b >0$, то $a+b \ne 0$, а тогда, разделив на $a+b$ обе части неравенства $(b-a)(b+a)>0$, получаем, что $b-a >0$, то есть $a<b$. Это и показывает, что $A<B$.

Далее, допустим, что существует $c \in \mathbb{Q}$, который разделяет эти множества, то есть $a\le c \le b$ для всех $a\in A$, $b\in B.$

Имеем всего три варианта: (1) $c^2 = 2$, (2) $c^2 <2$, (3) $c^2 >2$. Рассмотрим каждый из них.

(1) Пусть $c^2 =2$ и пусть $c\in \mathbb{Q}$. Тогда можно записать $c = \frac{p}{q}$, где $p \in \mathbb{Z}$, $q \in \mathbb{N}$, и $(p,q) = 1$. Тогда получаем равенство $p^2 = 2q^2$, которое влечёт чётность числа $p$, **т.е.,** $p = 2k$. Подставляя, получаем, что $q^2 = 2k^2$, что влечёт чётность числа $q$, то есть $q = 2r$, но тогда это значит, что $(p,q)$ делится на $2$, что противоречит предположению $(p,q) =1$. Таким образом, если $c^2 = 2$, то $c\notin \mathbb{Q}$.\\

```{note}
Это означает, что если $c^2=2$, то $c$ **не разделяет эти два множества.**
```

(2) Пусть $c^2 <2$. Наша цель — показать, что такое невозможно. Для этого мы предъявим такое положительное рациональное число $h\in \mathbb{Q}$, что $(c+h)^2 <2$. Если мы найдём такое число $h$, то это будет означать, что, во-первых, $c+h \in A$ и, во-вторых, $c < c+h <b$ для каждого $b \in B$, потому что $c+h \in A$, а мы уже показали, что $A \le B$. Но в таком случае выходит, что $c$ не разделяет множества $A,B$.

Неравенство $(c+h)^2<2$ можно переписать как $2ch + h^2 < 2- c^2$. Пусть $0<h<1$, **т.е.,** $h \in (0,1) \cap \mathbb{Q}$, тогда $2c+h < 2c+1$, и, так как $h >0$, то $h(2c+h)<h(2c+1)$. Поэтому, если мы нашли такое $h \in (0,1) \cap \mathbb{Q}$, что $h(2c+1) < 2-c^2$, то из цепочки неравенств
$$
2ch +h^2 = h(2c+h) < h(2c+1) < 2-c^2
$$
вытекает, что $2ch + h^2 < 2-c^2.$

Итак, нам осталось предъявить такое $h$. Например, можно положить, что
$$
h : = \frac{2-c^2}{2c+1}\cdot \frac{1}{10^N},
$$
где $N$ сколь угодно большое натуральное число (большое $N$ нужно, чтобы добиться условия $h<1$ при конкретном $c$).

В таком случае, мы получаем
$$
h(2c+1) = \frac{2-c^2}{2c+1}\cdot \frac{1}{10^N} \cdot (2c+1) = \frac{2-c^2}{10^N} < 2-c^2.
$$

Очевидно, что $h \in \mathbb{Q}.$

```{warning}
Таким образом, мы показали, что какое бы $c$, для которого $c^2<2$, мы бы не взяли, **всегда** можно найти такое $h\in \mathbb{Q}$, что $(c+h)^2<2$. 
```

```{note}
Это означает, что если $c^2<2$, то $c$ **не разделяет эти два множества.**
```

(3) Пусть теперь $c^2>2$. Покажем, что в таком случае можно найти такое $k\in \mathbb{Q}$, $k>0$, что $(c-k)^2 >2$. Если мы такое $k$ найдём, то это будет означать, что $c-k \in B$, а так как $A\le B$, то учитывая $c-k < c$, из цепочки неравенств
$$
a< c-k < c 
$$
будет вытекать, что $c$ не разделяет множества $A$ и $B.$

Имеем
$$\begin{align*}
(c-k)^2 >2 &\Longleftrightarrow& c^2 - 2ck + k^2 >2 \\
&\Longleftrightarrow& k^2 - 2ck >2-c^2 \\
&\Longleftrightarrow& k(k-2c) > 2 -c^2 \\
&\Longleftrightarrow& k(2c - k) < c^2 - 2.
\end{align*}$$

С другой стороны, так как $k^2 >0$, то
$$
k(2c-k) = 2ck - k^2 < 2ck.
$$

Поэтому, если мы найдём такой $k\in \mathbb{Q}$, что $2ck < c^2 - 2$, то оно подойдёт для наших целей, ведь в таком случае мы получаем цепочку неравенств
$$
k(2c-k)<2ck < c^2-2. 
$$

Можно положить
$$
k := \frac{c^2-2}{2c}\cdot \frac{1}{10^M},
$$
где $M$ можно взять сколь угодно большим. Таким образом, мы видим, что $c$ не может разделять элементы из $A$ и $B$, так как $x<c-k<c$, но $c-k \in B$.\\ 

```{note}
Это означает, что если $c^2>2$, то $c$ **не разделяет эти два множества.**
```
:::

Из этого утверждения вытекает следующее:

:::{prf:corollary}
В поле $\mathbb{R}$ существует такой $x>0$, что $x^2 = 2$. Такое число обозначается как $\sqrt{2}.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Рассмотрим такие же подмножества $A,B$ как и в предыдущем доказательстве, но уже будем их рассматривать в множестве $\mathbb{R}$. По аксиоме полноты должно существовать такое $c\in \mathbb{R}$, которое их разделяет.  Мы видели, что условия $c^2<2$, $c^2>2$ означают, что такое $c$ разделять их не может. Значит, остаётся только одна возможность, когда $c^2 =2$, что и доказывает требуемое.
:::

## Бесконечные десятичные дроби

Здесь мы предъявим модель для множества действительных чисел, но мы не будем объяснять как они складываются и умножаются, так как для наших нужд в этом вообще нет необходимости.


:::{prf:definition}
Бесконечная десятичная дробь — это последовательность вида 
$$
\m{a}:=\alpha_0,\alpha_1, \alpha_2, \alpha_3\ldots,
$$
где $\alpha_0 \in \mathbb{Z}$, $\alpha_1,\alpha_2,\ldots, \in \{0,1,\ldots, 9\}$. При этом дробь, у которой, начиная с какого-то номера (после запятой), встречаются только $9$, запрещены.
:::



:::{warning}
Причина такого запрета заключается в том, что $0,99999\ldots = 1$. Действительно, пусть $x = 0,9999999\ldots$, тогда $10x = 9,999999999\ldots = 9 + x$, откуда $x=1$.
:::

Для удобства, мы будем такие дроби записывать следующим образом
$$
\m{a} = (\alpha_0 \,|\, \alpha_1, \alpha_2,\ldots,)
$$

Сравниваются две дроби, скажем, $\m{a} = (\alpha_0 \,|\, \alpha_1, \alpha_2,\ldots,)$ и $\m{b} = (\beta_0 \,|\, \beta_1, \beta_2,\ldots,)$ лексикографически, т. е. если $\alpha_0<\beta_0$, то $\m{a}<\m{b}$, если $\alpha_0=\beta_0$, то сравниваем $\alpha_1$ и $\beta_1$. Тогда $\alpha_1<\beta_1$ влечёт $a<b$ и т.д. Мы тут предполагаем, что $\alpha_0,\beta_0 \ge 0$. В противном случае ясно, что нужно делать, если мы уже умеем сравнивать дроби при положительных $\alpha_0,\beta_0.$

:::{prf:theorem}
На множестве бесконечных десятичных дробей выполняется аксиома полноты, и более того, на этом множестве можно ввести операцию суммы и умножения так, чтобы выполнялись все аксиомы упорядоченного поля. 
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Мы не будем доказывать часть про аксиомы упорядоченного поля. Докажем, что выполнена аксиома полноты.

Пусть $A = \{\m{a}_i\}$, где $i$ пробегает какое-то множество индексов (возможно несчётное), здесь каждое $\m{a}_i$ — это какая-то бесконечная десятичная дробь. Аналогично, пусть $B = \{\m{b}_j\}$, где каждое $\m{b}_j$ — это какая-то бесконечная десятичная дробь. Пусть $A\le B$, найдём теперь такую бесконечную десятичную дробь $\m{c}$, которая разделяет эти два множества. 

Пусть $\m{c}:= c_0,\mathsf{c}_1\mathsf{c}_2\ldots,$ где $c_0$ — это наименьшая целая часть среди всех дробей множества $B$. Пусть $ B_0 $ — это подмножество множества $B$, которое состоит из всех таких дробей, целая часть которых начинается только с $c_0$. Тогда $c_1$ будет наименьшая первая цифра после запятой в этих дробях из $B_0$. Далее, мы рассматриваем множество $B_1$, которое состоит уже из дробей вида $c_0,\mathsf{c}_1\ldots$ и определяем $\mathsf{c}_2$ как наименьшее среди всех цифр во второй позиции после запятой. Тем самым, как нетрудно видеть, мы и построили разделитель.

:::