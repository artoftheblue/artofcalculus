# Предел последовательности

## Определение предела последовательности

Сходящиеся последовательности играют очень большую роль в анализе. Мы позже увидим, что множество действительных чисел можно определить с помощью последовательностей из рациональных чисел.

:::{prf:definition}
    Если каждому $n \in \mathbb{N}$ поставлено в соответствие некоторое число $x_n \in \mathbb{R}$, то говорят, что **задана последовательность** $\m{x}:=\{x_n\}_{n=1}^\infty$.
:::

:::{prf:example}

1. $\m{x} = \{1,1,1,\ldots,\}$. т. е. $\m{x} = \{x_n\}_{n-1}^\infty$, где $x_n = 1$ при каждом $n \in \mathbb{N}.$
2. $\m{x} = \{1,-1,1,-1,1,-1,\ldots, \}$ т. е. $\m{x} = \{x_n\}_{n-1}^\infty$, где $x_n = (-1)^n$ при каждом $n \in \mathbb{N}.$
3. $\m{x} = \{1,2,3,4, \ldots,\}$ т. е. $\m{x} = \{x_n\}_{n-1}^\infty$, где $x_n = n$ при каждом $n \in \mathbb{N}.$
4. $\m{x} = \{\frac{1}{1}, \frac{1}{2}, \frac{1}{3}, \frac{1}{4},\ldots,\}$ т. е. $\m{x} = \{x_n\}_{n-1}^\infty$, где $x_n = \frac{1}{n}$ при каждом $n \in \mathbb{N}.$ Выпишем первые 15 элементов этой последовательности в следующей таблице:

| $n$   | 1 | 2   | 3     | 4    | 5   | 6     | 7     | 8     | 9     | 10  | 11   | 12    | 13    | 14    | 15    |
|-------|---|-----|-------|------|-----|-------|-------|-------|-------|-----|------|-------|-------|-------|-------|
| $x_n$ | 1 | 0.5 | 0.333 | 0.25 | 0.2 | 0.166 | 0.142 | 0.125 | 0.111 | 0.1 | 0.09 | 0.833 | 0.076 | 0.714 | 0.666 |

5. Рассмотрим теперь последовательность $\m{a} = \{a_n\}_{n=1}^\infty$, заданную следующим образом: $a_n = \frac{2n}{n+3}$ и выпишем её первые 16 элементов.

| $n$   | 1   | 2   | 3 | 4    | 5    | 6    | 7   | 8    | 9   | 10   | 11   | 12  | 13   | 14    | 15    | 16    |
|-------|-----|-----|---|------|------|------|-----|------|-----|------|------|-----|------|-------|-------|-------|
| $a_n$ | 0.5 | 0.8 | 1 | 1.14 | 1.25 | 1.33 | 1.4 | 1.45 | 1.5 | 1.53 | 1.57 | 1.6 | 1.62 | 1.647 | 1.666 | 1.684 |
:::

:::{warning}
    Посмотрим более внимательно на последние два примера. Создаётся впечатление, что эти последовательности при росте номера $n$ неограниченно приближаются к какому-то числу. Действительно, мы покажем вскоре, что первая последовательность приближается к $0$, а другая к $2$.
:::

Более формально понятие предела последовательности определяется следующим образом.

:::{prf:definition}
    Числовая последовательность $\m{x}= \{x_n\}_{n=1}^\infty$ **сходится** к числу $x$, если для любого (=каждого) числа $\varepsilon>0$ можно найти такое число (=номер последовательности) $N$, что $|x_n -x|<\varepsilon$ при каждом $n >N$. При этом пишут $\lim\limits_{n \to \infty} x_n = x$. 
:::

Это же определение в кванторах записывается следующим образом: 
$$
 \boxed{
\lim_{n \to \infty } x_n = x \Longleftrightarrow  \forall \varepsilon >0\, \exists N \in \mathbb{N}\, :\, \forall n >N, \, |x_n - x| <\varepsilon.
}
$$

:::{warning}
Неформально это определение как раз и понимается следующим образом: **последовательность $x_n$ сходится к числу $x$, если при возрастании номера $n$ число $x_n$ неограниченно приближается к числу $x.$**
:::

:::{seealso}
  Неравенство $|x_n-x|<\varepsilon$ эквивалентно системе $x-\varepsilon <x_n < x+ \varepsilon$. Тогда определение предела может пониматься, что начиная с какого то номера $N$, ВСЕ остальные элементы последовательности $x_{N+1}, x_{N+2}, \ldots,$ попадут в интервал $(x-\varepsilon, x+\varepsilon)$. Далее число $\varepsilon>0$ здесь нужно, чтобы сказать, что этот интервал может быть сколь угодно малым.

  Напротив, если хотя бы один элемент $x_m$ при $m>N$ не попадает в интервал $(x-\varepsilon, x+\varepsilon),$ то $x$ \textbf{не будет пределом этой последовательности!}
:::

:::{prf:example}
Рассмотрим последовательность $\m{x} = \{x_n\}_{n=1}^\infty$, где $x_n = \frac{1}{n}$. Докажем, что $\lim_{n \to \infty} x_n = 0$. Используя определение, нам нужно найти для любого $\varepsilon >0$ такой номер $N$, что $|x_n - 0| < \varepsilon$ для всех $n>N$. 

Итак, рассмотрим неравенство $|x_n - 0| < \varepsilon$, так как $x_n = \frac{1}{n}$ и $n\ge 1$, то это неравенство, очевидно, эквивалентно неравенству $n > \frac{1}{\varepsilon}$. Поэтому положим $N= \lfloor \frac{1}{\varepsilon} \rfloor$, где $\lfloor ? \rfloor$ означает целую часть числа.

Пусть $\varepsilon = 0.1$, тогда $N = 10$, и, значит, все элементы этой последовательности, начиная с $x_{11}$, будут меньше, чем $\varepsilon = 0.1$, что мы и наблюдаем в таблице значений (ВСЕ $x_{11}, x_{12}, \ldots$ меньше, чем $0.1$).

| $n$   | 1 | 2   | 3     | 4    | 5   | 6     | 7     | 8     | 9     | 10  | 11   | 12    | 13    | 14    | 15    |
|-------|---|-----|-------|------|-----|-------|-------|-------|-------|-----|------|-------|-------|-------|-------|
| $x_n$ | 1 | 0.5 | 0.333 | 0.25 | 0.2 | 0.166 | 0.142 | 0.125 | 0.111 | 0.1 | 0.09 | 0.833 | 0.076 | 0.714 | 0.666 |

Покажем, например, что $1$ не является пределом этой последовательности. Если бы $1$ был бы пределом этой последовательности, то неравенство $|x_n-1|<\varepsilon$ выполнялось бы при всех $n>N$, начиная с какого-то $N$. Но так как $x_n <1$, то это неравенство эквивалентно неравенству $1-\frac{1}{n}<\varepsilon$ и влечёт $n < \frac{1}{1-\varepsilon}$. Таким образом, неравенство $|x_n -1| < \varepsilon$ будет выполняться лишь для КОНЕЧНОГО числа номеров $n$! Например, если $\varepsilon =0.8$, то $\frac{1}{1-0.2} = 5$, т. е. $|\frac{1}{n}-1|<0.8$ выполнено только для $x_1,x_2,x_3,x_4$, что видно из таблицы ниже:

| $n$       | 1 | 2   | 3     | 4    | 5   | 6     | 7     | 8     | 9     | 10  | 11    | 12    | 13    | 14    | 15    |
|-----------|---|-----|-------|------|-----|-------|-------|-------|-------|-----|-------|-------|-------|-------|-------|
| $\|x_n-1\|$ | 0 | 0.5 | 0.666 | 0.75 | 0.8 | 0.833 | 0.857 | 0.875 | 0.888 | 0.9 | 0.909 | 0.916 | 0.923 | 0.928 | 0.933 |

Это и показывает, что число $1$ не является пределом этой последовательности. 
:::

Итак, мы на примере увидели, что если $\lim_{n\to \infty}x_n = x$, то разность $|x_n - x|$ стремится к нулю. Докажем это в общем случае.

:::{prf:proposition}
:name: lim(a_n-a)=0
    Пусть дана последовательность $\{x_n\}_{n=1}^\infty$, и пусть $\lim_{n\to \infty}x_n = x$, тогда это равносильно тому, что $\lim_{n\to \infty}x_n' = 0$, где $x_n' := x_n - x$, $n\in \mathbb{N}.$
:::
:::{prf:proof}
:class: dropdown
:nonumber:
    Действительно, имеем следующую цепочку эквивалентностей
    $$\begin{align*}
      \lim_{n \to \infty} x_n = x & \Longleftrightarrow &  \forall \varepsilon >0\, \exists N \in \mathbb{N}\, :\, \forall n >N, \, |x_n - x| <\varepsilon \\
      &\Longleftrightarrow& \forall \varepsilon >0\, \exists N \in \mathbb{N}\, :\, \forall n >N, \, |x_n' - 0| <\varepsilon \\
      &\Longleftrightarrow &  \lim_{n \to \infty} x'_n = 0.
    \end{align*}$$
:::

## Отделимость, единственность и арифметика предела

:::{prf:theorem} Отделимость
:name: separate
    Если $\lim_{n\to \infty } x_n = x$, $x>0$, то найдётся такой номер $N_0$, что при всех $n>N_0$, будет иметь место неравенство $x_n > \frac{x}{2}>0.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
    Так как $\lim_{n\to \infty } x_n = x$, то для любого числа $\varepsilon>0$ можно найти такой номер $N$, что при $n>N$, $|x_n-x|<\varepsilon$. Тогда пусть $\varepsilon = \frac{x}{2}$, тогда можно найти такой номер $N'$, что $|x_n - x|<|\frac{x}{2}|$ для всех $n>N'$, что равносильно системе $\frac{x}{2}< x_n < \frac{3x}{2}$, но так как $x>0$, то мы получаем $0<\frac{x}{2}< x_n < \frac{3x}{2}$, т. е. $N_0 :=N'.$
:::

:::{prf:definition}
    Последовательность $\{\alpha_n\}_{n=1}^\infty$ называется **бесконечно малой последовательностью**, если $\lim_{n\to \infty} \alpha_n =0$.
:::

Таким образом, изучение сходящихся последовательностей равносильно изучению бесконечно малых последовательностей. 

Проиллюстрируем это на следующих примерах.

:::{prf:example}
Рассмотрим последовательность $\m{a} = \{a_n\}_{n=1}^\infty$, где $a_n = \frac{2n}{n+3}$ и выпишем её первые 16 элементов:

| $n$   | 1   | 2   | 3 | 4    | 5    | 6    | 7   | 8    | 9   | 10   | 11   | 12  | 13   | 14    | 15    | 16    |
|-------|-----|-----|---|------|------|------|-----|------|-----|------|------|-----|------|-------|-------|-------|
| $a_n$ | 0.5 | 0.8 | 1 | 1.14 | 1.25 | 1.33 | 1.4 | 1.45 | 1.5 | 1.53 | 1.57 | 1.6 | 1.62 | 1.647 | 1.666 | 1.684 |

Мы утверждаем, что $\lim_{n\to \infty}a_n =2$, чтобы это доказать, мы рассмотрим последовательность $\{a_n'\}_{n=1}^\infty$, где $a_n' = a_n  -2$ и покажем, что это последовательность бесконечно малая.

Находим $a_n' -2= \frac{ 2n}{n+3} -2 = - \frac{6}{n+3}.$ Тогда, чтобы доказать, что $\lim_{n\to \infty } a_n' = 0$, нужно для любого $\varepsilon >0$ найти такой номер $N$, что все остальные $x_{N+1}, x_{N+2}, \ldots$ попадут в промежуток $(-\varepsilon, \varepsilon)$. Другими словами, для всех $n>N$ будет выполнено $|-\frac{6}{n+3}|<\varepsilon$. В таком случае, мы легко находим, что $n> \frac{6}{\varepsilon} - 3$, то есть, начиная с номера $N= \lfloor \frac{6}{\varepsilon} - 3 \rfloor$, все $x_{N+1}, x_{N+2}, \ldots,$ будут находиться в интервале $(-\varepsilon, \varepsilon).$ 

Пусть, например, $\varepsilon = 0.1$, тогда находим $N = 57$, т. е. все $x_{58},x_{59}, \ldots$ будут находиться в промежутке $(-0.1, 0.1)$, в чём можно убедится из таблицы для значений последовательности $\{a_n'\}_{n=1}^\infty$:

| $n$    | 55    | 56    | 57  | 58   | 59    | 60    | 61    | 62     | 63     | 64    | 65    | 66    | 67    | 68    |
|--------|-------|-------|-----|------|-------|-------|-------|--------|--------|-------|-------|-------|-------|-------|
| $a'_n$ | 0.103 | 0.101 | 0.1 | 0.09 | 0.096 | 0.095 | 0.093 | 0.0923 | 0.0909 | 0.089 | 0.088 | 0.086 | 0.085 | 0.084 |
:::

:::{prf:example}
Очевидно, что последовательность $\{1,2,3,\ldots,\}$ предела не имеет, потому что если бы он и был бы, скажем $a$, то, начиная с $n>a$, мы получили бы вновь бесконечно возрастающую последовательность чисел $\{ 1-a, 2-a, \ldots, \lfloor a \rfloor -a, \lfloor a \rfloor -a+1, \ldots, \}$.    
:::


:::{prf:example}
:name: -1n
    Рассмотрим теперь последовательность $\m{x}:=\{x_n\}_{n=1}^\infty$, где $x_n = (-1)^n$ и покажем, что эта последовательность не имеет предела. Пусть она имеет предел, скажем, $x$.

Пусть $0 \le x <1$, тогда, выбрав $\varepsilon$ такой, что $\varepsilon < 1-x$, мы видим, что ни один элемент этой последовательности не лежит в интервале $(x- \varepsilon, x+\varepsilon)$. Аналогично рассматривается случай $-1<x\le 0$. Пусть $x\ge 1$, тогда, выбрав $\varepsilon < 1$, мы видим, что не все элементы попадают в интервал $(x-\varepsilon, x+ \varepsilon)$, а именно туда не попадут элементы $-1$. Аналогично рассматривается случай, когда $x\le -1$. Это и показывает, что такая последовательность не имеет предела.
:::

:::{prf:example}
    Пусть $x_n =\alpha$ последовательность вида $\{\alpha, \alpha, \alpha, \ldots,\}.$ Такая последовательность называется **постоянной.** Тогда $\lim_{n\to \infty }x_n = \alpha$. Действительно, мы имеем $|x_n - \alpha| = |\alpha - \alpha| = 0$ для любого $n \in \mathbb{N}$, тогда и $|x_n - \alpha| < \varepsilon$ для любого $\varepsilon>0.$
:::


:::{prf:theorem}
    Если предел последовательности существует, то он единственен. 
:::
:::{prf:proof}
:class: dropdown
:nonumber:
    Пусть последовательность $\m{x} = \{x_n\}_{n=1}^\infty$ имеет два предела, скажем $a,b$, при этом $a\ne b$. Тогда по определению предела для любого $\varepsilon>0$ мы можем найти такие $N, M$, что $|x_n - a|<\varepsilon$, когда $n>N$, и $|x_m-b|<\varepsilon$, при $m>M$. Пусть $K:=\max{N,M}$, тогда при $k>K$ мы будем иметь:
   $$\begin{align*}
      |a-b| &=& |a-x_K + x_K -b| \\
      &\le & |a-x_K| + |x_K-b| \\
      &\le& \varepsilon + \varepsilon \\
      &=& 2 \varepsilon.
   \end{align*}$$

А теперь воспользуемся тем фактом, что это неравенство должно выполняться \textbf{для любого числа $\varepsilon>0$}. Тогда, выбрав, например, $\varepsilon = \frac{1}{3}|a-b|$, мы приходим к противоречию.
:::

:::{prf:remark}
Вообще-то, можно придумать пример пространства, на котором одна и та же последовательность будет иметь более чем один пример. Например, возьмём два экземпляра прямой $\mathbb{R}$ и склеим их по всем точкам кроме нуля.

Более строго: рассмотрим фактормножество $\mathbb{R}\times \mathbb{R}/\sim$, где $x \sim y$ всегда, когда $x,y \in \mathbb{R}\setminus \{0\}$. То, что получилось, называется прямой с удвоенной точкой (affine line with double origin). Тогда последовательность будет как раз и иметь два предела, соответствующие этой двойной точке.
    
Но! Это уже не математический анализ, и такие структуры мы рассматривать не будем.
:::