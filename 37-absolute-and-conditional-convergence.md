# Абсолютно, условно и безусловно сходящееся ряды

Мы видели, что в отношении положительных рядов (а значит, и для отрицательных тоже), характер сходимости, по большей части, устанавливается нетрудно, благодаря наличию ряда удобных признаков.

:::{warning}
С другой же стороны, если ряд почти положительный, то у него в силу Леммы [](#almost_for_series) такой же характер сходимости, что и у ряда, полученного из данного обнулением этих неположительных чисел.
:::

Поэтому существенно новым случаем будет тот, когда среди элементов ряда есть бесконечное число отрицательных элементов. Мы уже познакомились со случаем, когда знаки элементов чередуются. Тут же мы займёмся более общим вопросом. 

Начнём с простого, но очень важного наблюдения.

:::{prf:theorem}
:name: abs=ok
Пусть дан ряд $(x_n)$. Если сходится ряд $(|x_n|)$, то ряд $(x_n)$ тоже сходится.
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Последовательность частичных сумм ряда $(x_n)$ мы, как обычно, обозначим через $(\mathsf{S}_n)$, а последовательность частичных суммы для ряда $(|x_n|)$ мы обозначим через $(\mathsf{A}_n)$.

Так как ряд $(|x_n|)$ сходится, то по критерию Коши [](#Coshy2) мы для каждого $\varepsilon >0$ можем найти такое $N$, что для всех $n \ge N$ и $p \ge 1$,  
$$
| \mathsf{A}_{n+p} - \mathsf{A}_{n} | = |x_{n+1} | + \cdots +|x_{n+p}| < \varepsilon.
$$

Далее, имеем 

$$\begin{align*}
\mathsf{S}_{n+p} - \mathsf{S}_n &=& | x_{n+1} + \cdots + x_{n+p} | \\
&\le & |x_{n+1}| + \cdots + |x_{n+p}| \\
&<& \varepsilon,
\end{align*}$$
что согласно критерию Коши [](#Coshy2) означает сходимость ряда $(x_n).$ 
:::

:::{prf:remark}
Итак, из предыдущей теоремы (теорема [](#abs=ok))) вытекает, что для исследования ряда $(x_n)$ на сходимость достаточно исследовать на сходимость положительный ряд $(|x_n|)$. Таким образом, **что все те признаки сравнения, которые мы знаем для положительных рядов, применимы и в этом случае** (для ряда из абсолютных величин его элементов). 
:::

:::{warning}
Нужно быть осторожным с признаками **расходимости**; если ряд $(|x_n|)$ окажется расходящимся, то ряд $(x_n)$ может быть сходящимся.
:::

:::{prf:example}
Как мы уже говорили, ряд $(x_n)$, где $x_n = \frac{(-1)^n}{n}$, сходится, так как выполнятся признак Лейбница (Теорема [](#Leibnitz_for_series)), однако ряд $(|x_n|) = (\frac{1}{n})$ — гармонический ряд, который расходится, поэтому ряд $(x_n)$ сходится условно.
:::


Таким образом, оправдано введение следующего понятия
(def4-2)=
:::{prf:definition}
Ряд $(x_n)$ называется **абсолютно сходящимся**, если ряд $(|x_n|)$ сходится. Если ряд $(x_n)$ сходится, а ряд $(|x_n|)$ расходится, то говорят, что **ряд $(x_n)$ сходится условно.**
:::

:::{prf:proposition}
:label: x_nnn
Пусть дан ряд $(x_n)$, положим
$$
x_n^+: = \begin{cases}
x_n, & \mbox{если $x_n \ge 0$},\\
0, & \mbox{если $x_n <0$},
\end{cases}
\qquad
x_n^-: = \begin{cases}
-x_n, & \mbox{если $x_n \le 0$},\\
0, & \mbox{если $x_n >0$},
\end{cases} 
$$
и будем рассматривать два ряда $(x_n^+)$, $(x_n^{-})$ которые, очевидно, положительны.     
:::


:::{prf:proposition}
Пусть ряд $(x_n)$ сходится абсолютно, тогда ряды $(x_n^+)$, $(x_n^{-})$ сходятся и более того, если $\mathsf{S}, \mathsf{S}^+, \mathsf{S}^-$ — суммы рядов $(x_n)$, $(x_n^+)$, $(x_n^-)$ соответственно, то
$$
\mathsf{S} = \mathsf{S}^+ - \mathsf{S}^-.
$$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
:name: S=SSSS
Во-первых, из Леммы [](#abs=ok) следует корректность утверждения, ибо ряд $(x_n)$ сходится, а тогда последовательность его частичных сумм $(\mathsf{S}_n)$ имеет предел $\mathsf{S}.$

Во-вторых, так как $x_n^+ \le |x_n|$ и $x_n^- \le |x_n|$, то по признаку сравнения [](#cor1_for_series) ряды $(x_n^+)$, $(x_n^-)$ сходятся, а значит, сходятся последовательности их частичных сумм $(\mathsf{S}_n^+)$, $(\mathsf{S}_n^-)$ к $\mathsf{S}^+$, $\mathsf{S}^-$ соответственно.

Далее, так как из конструкции [](x_nnn) следует, что $x_n = x_n^+- x_n^-$, но тогда для каждого $n$ получаем
$$\begin{align*}
\mathsf{S}_n  &=& x_1 + \cdots + x_n \\
&=& x_1^+ - x_1^- + \cdots + x_n^+ - x_n^- \\
&=& \left( x_1^+ + \cdots + x_n^+ \right) - \left(x_1^- + \cdots + x_n^- \right) \\
&=& \mathsf{S}_n^+ - \mathsf{S}_n^-.
\end{align*}$$

Тогда по теореме [](#a+b,ca,ab), 
$$
\mathsf{S} = \lim_{n \to \infty} \mathsf{S}_n = \lim_{n\to \infty}(\mathsf{S}_n^+ - \mathsf{S}_n^-) = \lim_{n\to \infty} \mathsf{S}_n^+ - \lim_{n\to \infty}\mathsf{S}_n^- = \mathsf{S}^+ - \mathsf{S}^-,
$$
что и требовалось доказать. 
:::

:::{prf:proposition}
Если ряд абсолютно сходится, то при любой перестановке его элементов абсолютная сходимость полученного нового ряда не нарушается и более того, его сумма остаётся прежней.
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Пусть ряд $(x_n)$ сходится абсолютно, рассмотрим ряды $(x_n^+)$, $(x_n^-)$ (конструкция [](x_nnn)), очевидно, что $x_n = x_n^+ - x_n^-$ для всех $n.$ Так как ряд $(x_n)$ сходится абсолютно, то ввиду $x_n^+ \le |x_n|$, $x_n^- \le |x_n^-|$ и признака сравнения (теорема [](#cor1_for_series)) ряды $(x_n^+)$, $(x_n^-)$ тоже сходятся.

Пусть ряд, полученный после перестановки исходного ряда, имеет вид $(y_n)$, рассмотрим также ряды $(y_n^+)$, $(y_n^-)$ (Конструкция [](x_nnn)), тогда $y_n = y_n^+ - y_n^-$, и мы получаем

\begin{align*}
& \mathsf{S}  = \mathsf{S}^+ - \mathsf{S}^- & \\
& \phantom{\mathsf{S}} = \sum_{n=1}^\infty x_n^+ - \sum_{n=1}^\infty x_n^- \\
& \phantom{\mathsf{S}} = \sum_{n=1}^\infty y_n^+ - \sum_{n=1}^\infty y_n^- & \\
& \phantom{\mathsf{S}} =  \sum_{n=1}^\infty (y_n^+ - y_n^-) & \\
& \phantom{\mathsf{S}} = \sum_{n=1}^\infty y_n.
\end{align*}

(по предложению [](#S=SSSS)), (по теореме [](#comm_for_positive_series)) и (по предложению [](#ariph_for_series)), соответственно.

Что и требовалось доказать.
:::

Итак, мы показали, что в абсолютно сходящемся ряду совершенно не важен порядок его элементов, **т.е.** любая перестановка его элементов не нарушает его сходимость и более того, его сумма остаётся прежней. Но будет ли такой же эффект, если ряд не сходится абсолютно? Как показал Б. Риман, это неверно. Поэтому оправданна следующая терминология.

(def4-3)=
:::{prf:definition}
Говорят, что ряд сходится **безусловно**, если он сходится и любая перестановка его элементов не нарушает его сходимости. 
:::

:::{warning}
В связи с этим возникает желание назвать ряд не безусловно сходящимся, если он сходится, но можно так поменять местами его элементы, что в результате получится уже не сходящийся ряд. Но теорема Римана (см. ниже) как раз и покажет, что это в точности условно сходящиеся ряды, поэтому необоходимости в новом термине нет.
:::

Прежде чем перейти к теореме Римана, докажем следующее утверждение.

:::{prf:proposition}
Для того, чтобы ряд $(x_n)$ был абсолютно сходящимся, необходимо и достаточно, чтобы ряды $(x_n^+)$, $(x_n^-)$ были сходящимся.
:::

:::{prf:proof}
:class: dropdown
:nonumber:
(1) Действительно, если ряд $(x_n)$ сходится абсолютно, то, так как $x_n^+ \le |x_n|$ и $x_n^- \le |x_n|$, и по признаку сравнения [](#cor1_for_series) ряды $(x_n^+)$, $(x_n^-)$ сходятся.

(2) Пусть теперь для ряда $(x_n)$ ряды $(x_n^+)$, $(x_n^-)$ сходятся. Но, так как (см. конструкция [](x_nnn)), $|x_n| = x_n^+ + x_n^-$, то для любого $n$, $\mathsf{A}_n = \mathsf{S}_n^+ + \mathsf{S}_n^-$, где $\mathsf{A}_n$, $\mathsf{S}_n^+$, $\mathsf{S}_n^-$ — частичные суммы рядов $(|x_n|)$, $(x_n^+)$, $(x_n^-)$, соответственно. Откуда следует сходимость последовательности $(\mathsf{A}_n)$. Тем самым мы завершаем доказательство.
:::

:::{prf:proposition}
:name: condtional_convergance_and_x_n^+
Если ряд $(x_n)$ сходится условно, (**т.е.** ряд $(|x_n|)$ расходится), то оба ряда $(x_n^+)$, $(x_n^-)$ расходятся, при этом $\lim_{n\to \infty }x_n^+ = \lim_{n \to \infty}x_n^- = 0.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Пусть ряд $(x_n)$ сходится, но не абсолютно, **т.е.** ряд $(|x_n|)$ расходится. Так как $|x_n| = x_n^+ + x_n^-$, то $\mathsf{A}_n = \mathsf{S}_n^+ + \mathsf{S}_n^-$, где $\mathsf{A}_n$, $\mathsf{S}_n^+$, $\mathsf{S}_n^-$ — частичные суммы рядов $(|x_n|)$, $(x_n^+)$, $(x_n^-)$, соответственно. Тогда из расходимости последовательности $(\mathsf{A}_n)$ вытекает, что хотя бы одна из последовательностей $(\mathsf{S}_n^+)$, $(\mathsf{S}_n^-)$ расходится. Если они обе расходится, то предложение доказано.

Пусть расходится последовательность $(\mathsf{S}_n^+)$. Так как $x_n = x_n^+ - x_n^-$ (см. конструкцию [](x_nnn)), то $\mathsf{S}_n = \mathsf{S}_n^+ - \mathsf{S}_n^-$.

Тогда
$$
\mathsf{S}_n^- = \mathsf{S}_n^+ - \mathsf{S}_n,
$$
но так как $\lim_{n \to \infty} \mathsf{S}_n = \mathsf{S}$, то согласно лемме [](#lim—>bounded_for_sequence), последовательность $(\mathsf{S}_n)$ — ограничена, скажем, $L \le \mathsf{S}_n \le R$. С другой же стороны, так как $(x_n^+)$ — положительный расходящийся ряд, то согласно Теореме [](#criteria_for_positive_series), последовательность $(\mathsf{S}_n^+)$ — неограниченна. Это значит, что для любого числа $N$ можно найти такой номер $n$, что $\mathsf{S}_n^+ >N+L$, а тогда $\mathsf{S}_n^- > N+L-L =N$, **т.е.** для любого $N$ мы нашли номер $n$ такой, что $\mathsf{S}_n^- >N$, это означает, что последовательность $(\mathsf{S}_n^-)$ неограниченна, а тогда по теореме [](#criteria_for_positive_series), ряд $(x_n^-)$ — расходится. 

Аналогично рассматривается случай, когда расходится ряд $(x_n^-)$. 

Наконец, так как ряд $(x_n)$ сходится, то по необходимому признаку (см. следствие [](#nessesary_for_series)), $\lim_{n \to \infty} x_n = 0$, а из того, что $(x_n^+)$, $(x_n^-)$ подпоследовательности в последовательности $(x_n)$, то из теоремы [](#lim(sub)=lim) получаем, что $\lim_{n \to \infty} x_n^+ = \lim_{n \to \infty} x_n^- = 0.$ Это завершает доказательство.
:::

Теперь мы докажем замечательную теорему, которая показывает как сильно отличается условно сходящийся ряд от абсолютно сходящегося.

:::{prf:theorem}[Риман]
Пусть ряд $(x_n)$ сходится условно, тогда для любого числа $\alpha \in \mathbb{R}$, а также если $\alpha = \pm \infty$ можно так переставить элементы этого ряда, что сумма полученного таким образом ряда будет равна $\alpha.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Для ряда $(x_n)$ мы рассмотрим ряды $(x_n^+)$, $(x_n^-)$ (см. конструкцию [](x_nnn)). Согласно предложению [](#condtional_convergance_and_x_n^+), ряды $(x_n^+)$, $(x_n^-)$ расходятся. Это значит, что последовательности их частичных сумм неограничены (см. теорема [](#criteria_for_positive_series)), **т.е.** их значения могут быть больше любого числа. 

Пусть $p_1$ — наименьшее натуральное число (=номер последовательности $(x_n^+)$) такое, что
$$
\alpha < x_1^+ + \cdots + x_{p_1}^+  = \sum_{i=1}^{p_1}x_i^+,
$$
далее, пусть $q_1$ — наименьшее натуральное число (=номер последовательности $(x_n^-)$) такое, что
$$
\alpha > \sum_{i=1}^{p_1} x_i^+ - \sum_{j=1}^{q_1} x_j^-.
$$

Пусть теперь $p_2$ есть наименьшее натуральное число (=номер последовательности $(x_n^+)$), большее, чем $p_1$, такое, что
$$\begin{align*}
\alpha &<& \sum_{i=1}^{p_1} x_i^+ - \sum_{j=1}^{q_1} x_j^- + \sum_{i={p_1}+1}^{p_2}x_i^+\\
&=& \sum_{i=1}^{p_2} x_i^+ - \sum_{j=1}^{q_1} x_j^- .    
\end{align*}$$

Потом мы выбираем такое наименьшее натуральное $q_2$ (=номер последовательности $(x_n^-)$) большее, чем $q_1$, чтобы было верно неравенство

$$\begin{align*}
\alpha &>& \sum_{i=1}^{p_2} x_i^+ - \sum_{j=1}^{q_1} x_j^- - \sum_{j={q_1}+1}^{q_2}x_j^-\\
&=&     \sum_{i=1}^{p_2} x_i^+ -  \sum_{j={q_1}+1}^{q_2}x_j^-.
\end{align*}$$



Продолжая таким образом, мы получаем последовательность номеров $p_1, q_1,\ldots, p_k,q_k,\ldots,$ и новую последовательность 
$$
(x_n') = x_1^+, \ldots, x_{p_1}^+, x_1^-, \ldots, x_{q_1}^-, x_{p_1+1}^+, \ldots, x_{p_2}^+, x_{q_1+1}^-, \ldots, x_{q_2}^-, \ldots,
$$
при этом, если числа $p_1,q_1, \ldots, p_k, q_k$ выбраны, то мы имеем
$$
\alpha > \sum_{i=1}^{p_k} x_i^+ - \sum_{j=1}^{q_k} x_j^-
$$
и тогда мы подбираем $p_{k+1}$ как наименьшее натуральное число, большее, чем $p_k$ так, чтобы
$$
\alpha < \sum_{i=1}^{p_k}x_i^+ - \sum_{j=1}^{q_k} x_j^- + \sum_{i=p_k+1}^{p_{k+1}} x_i^+ = \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^-,
$$
но тогда (в силу условия минимальности на выбор числа $p_{k+1}$) имеем
$$
\alpha \ge \sum_{i=1}^{p_k}x_i^+ - \sum_{j=1}^{q_k} x_j^- + \sum_{i=p_k+1}^{p_{k+1}-1} x_i^+ = \sum_{i=1}^{p_{k+1}-1}x_i^+ - \sum_{j=1}^{q_k}x_j^-.
$$

Итак, мы получаем
$$
\sum_{i=1}^{p_{k+1}-1}x_i^+ - \sum_{j=1}^{q_k}x_j^- \le \alpha < \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^-.
$$

Из полученных неравенств вычтем сумму $\sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^-$, тогда получаем
$$
\left(\sum_{i=1}^{p_{k+1}-1}x_i^+ - \sum_{j=1}^{q_k}x_j^-\right) - \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^- \right) \le \alpha - \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^- \right) < 0.
$$

откуда получаем

$$
- x_{p_k+1}^+ \le \alpha - \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^- \right) < 0,
$$

или

$$
0 < \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^- \right) - \alpha \le x_{p_k+1}^+.
$$

Далее, согласно предложению [](#condtional_convergance_and_x_n^+), $\lim_{k \to \infty}x_{p_k+1}^+ = 0$, то по лемме о зажатой последовательности (см. лемма [](#sqeezy)) и предложению [](#lim(a_n-a)=0) получаем, что

(S_k+1ka)=
\begin{equation}
\boxed{
\lim_{k\to \infty} \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^- \right) = \alpha.    
}
\end{equation}

С другой стороны, если числа $p_1,\ldots, p_k,q_k,p_{k+1}$ выбраны, то
$$
\alpha < \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_k}x_j^-,
$$
и тогда $q_{k+1}$ мы выбираем как наименьшее натуральное число такое, что
$$
\alpha > \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_k}x_j^- - \sum_{j=q_{k+1}}^{q_{k+1}} x_j^- = \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^-,
$$
а тогда получаем
$$
\alpha \le \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}-1}x_j^-.
$$

Мы получаем неравенства
$$
\sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^- < \alpha \le \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}-1}x_j^-, 
$$
вычитая сумму $\sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^-$ из каждого неравенства, мы получаем
$$
0 < \alpha - \left( \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^- \right) \le \left( \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}-1}x_j^-\right) - \left( \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^-\right),
$$
откуда вытекает
$$
0 < \alpha - \left( \sum_{i=1}^{p_{k+1}} x_i^+-  \sum_{j=1}^{q_{k+1}}x_j^- \right) \le x_{q_{k+1}}^-.
$$

А тогда, согласно предложению [](#condtional_convergance_and_x_n^+), $\lim_{k \to \infty}x_{p_k+1}^+ = 0$, то по лемме о зажатой последовательности (см. лемма [](#sqeezy)) и предложению [](#lim(a_n-a)=0) получаем, что

\begin{equation}
\boxed{
\lim_{k\to \infty} \left( \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_{k+1}}x_j^- \right) = \alpha.    
}
\end{equation}

Но по построению, все частичные суммы ряда 
$$
(x_n') = x_1^+, \ldots, x_{p_1}^+, x_1^-, \ldots, x_{q_1}^-, x_{p_1+1}^+, \ldots, x_{p_2}^+, x_{q_1+1}^-, \ldots, x_{q_2}^-, \ldots,
$$
имеют либо вид $\sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_k}x_j^-$ либо $ \sum_{i=1}^{p_{k+1}}x_i^+ - \sum_{j=1}^{q_{k+1}}x_j^-$, а тогда из уравнений ([](#S_{k+1,k)=a}), ([](#S_{k,k+1)=a}) вытекает, что сумма ряда $(x_n')$ есть $\alpha.$

:::
