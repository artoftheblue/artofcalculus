# Числовые ряды

Пусть $\mathbb{R}$ — числовая прямая снабжённая обычной нормой $\|x \|:= |x|$, $x\in \mathbb{R}.$

:::{prf:definition}
Пара последовательностей $(x_n)_{n \ge 1}$, $(s_n)_{n \ge 1}$ называется **рядом**, если их элементы $x_n$, $s_n$ при любом $n$ связаны соотношениями
$$
s_n = x_1 + \cdots + x_n,
$$
или, что равносильно,
$$
x_1=s_1, \qquad x_n = s_n-s_{n-1}, \qquad n\ge 1.
$$
где мы, для удобств, положили, что $s_0:=0$.

Элемент $x_n$ называется **$n$-ым элементом**, **$s_n$ — $n$-й частичной суммой** ряда. 

Рассматриваемый ряд часто нзывается **рядом с общим элементом $x_n$** или просто **рядом** $(x_n)$. Принято также писать что дан ряд $\sum_{n=1}^\infty x_n$, что следует признать неудачным.\footnote{Так как символ $\sum$ указывает на процесс суммирования (то есть это операция), а ряд мы себе мыслим всё же как последовательность. Впрочем я не одинок в таком представлении, определение взято из книги Ж. Дьёдонне ``Основы современного анализа''.}
:::

:::{prf:example} Приведём некоторые примеры.

1. Ряд
$$
\left(\frac{1}{n} \right)_{n\ge 1}, \qquad \left(\sum_{k=1}^n \frac{1}{n} \right)_{n\ge 1}
$$
называется **гармоническим рядом**, также пишут $\sum_{n=1}^\infty \frac{1}{n}.$
2.
$$
(q^n)_{n\ge 1},\qquad (1+q+\cdots +q^n)_{n\ge 1}.
$$
3.
$$
(n)_{n \ge 1}, \qquad \left(1+2+\cdots + n \right)_{n \ge 1}.
$$

4. Ряд 
$$
\left(\frac{(-1)^k}{2k+1}\right)_{k \ge 0}, \qquad \left(1-\frac{1}{3} + \frac{1}{5} + \cdots + \frac{(-1)^k}{2k+1}\right)_{k\ge 0} 
$$
называется **рядом Мадхавы — Лейбинца (Madhava–-Leibniz series)**. 
    
:::




:::{prf:definition}
Ряд $(x_n)$ называется **сходящимся к $s$**, если $\lim_{n \to \infty}s_n = s$; в этом случае $s$ называют **суммой** ряда и пишут $s = x_1 + x_2+\cdots + x_n + \cdots$ или $s = \sum_{n=1}^\infty x_n$. Величина $r_n: = s-s_n$ называется **$n$-ым остатком ряда**.
:::

:::{prf:example}
:name: geometric_series_and_ML_series} Вернёмся к предыдущим примерам.

1. Рассмотрим ряд $(q^n)$, нетрудно видеть, что последовательность его частичных сумм описывается так
$$
s_n  = \begin{cases}
\frac{1-q^n}{1-q}, & q \ne 1,\\
n, & q =1.
\end{cases}
$$
Тогда, если $q \ne 1$, имеем
$$
\lim_{n \to \infty} s_n = \lim_{n \to \infty} \frac{1-q^n}{1-q} = \frac{1}{1-q} \left( 1- \lim_{n \to \infty} q^n \right)
$$
**т.е.,** предел существует если и только если $q<1$. Таким образом, ряд $(q^n)$ сходится если и только если $q<1.$

2. Рассмотрим ряд Мадхавы—Лейбница, мы позже докажем, что оказывается он сходящиейся, и более того мы покажем, что имеем место красивая формула
$$
\frac{\pi}{4} = \lim_{k \to \infty} s_k = \sum_{k=1}^\infty \frac{(-1)^k}{2k+1} = 1-\frac{1}{3} + \frac{1}{5} - \frac{1}{7} + \frac{1}{11}-\ldots.
$$

:::


:::{prf:lemma}
Пусть $(x_n)_{n\ge 1}$ — сходящийся ряд и $s$ — его сумма, тогда $\lim_{n \to \infty }r_n = 0.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Имеем $s = x_1+x_2+\cdots + x_n +\cdots$, $s_n = x_1 + x_2 + \cdots + x_n$, тогда $r_n = s-s_n = x_{n+1}+ x_{n+2} + \cdots + x_{n+k} + \cdots$. Так как по условию $\lim_{n \to \infty} s_n = s$, то по арифметике предела (Теорема [](#a+b,ca,ab)), 
$$\begin{eqnarray}
\lim_{n \to \infty} r_n &=& \lim_{n \to \infty}(s- s_n) \\
&=&  \lim_{n \to \infty} s -  \lim_{n \to \infty} s_n \\
&=& s- s = 0.
\end{eqnarray}$$
:::




:::{prf:theorem}[Критерий Коши]
:name: Coshy2
Ряд $(x_n)_{n\ge 1}$ сходится если и только если для любого $\varepsilon >0$ существует такой номер $N$, что при $n \ge N$, $p\ge 1$ имеет место неравенство
$$
|s_{n+p} -s_n| = |x_{n+1}+ \cdots + x_{n+p}| < \varepsilon.
$$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Для ряда $(x_n)$ рассмотрим последовательность $(s_n)$ его частичных сумм, тогда согласно определению $(x_n)$ сходится если и только если $\lim_{n \to \infty} s_n = s$, а тогда по критерию Коши [](#Coshy) $(s_n)$ — фундаментальная (Определение [](#foundamental_sequence)), **т.е.,** мы получаем следущее, $(s_n)$ — сходится елси и только если для любого $\varepsilon >0$ существует такой номер $N$, что при всех $n,m \ge N$, $|s_m- s_n| < \varepsilon$.

Без ограничения общности, мы можем положить, что $m>n$, **т.е.,** $m= n+p$, где $p \ge 1$, в результате получаем следущее, последовательность $(s_n)$ сходится если и только если для любого $\varepsilon >0$ сущствует такой номер $N$, что для любого $n \ge N$, $p \ge 1$, имеет место
$$
|s_{n+p} - s_n| = |x_{n+1} + \cdots+  x_{n+p}| < \varepsilon,
$$
что и треобовалось доказать.
:::


:::{prf:corollary}[Необоходимое условие сходимости ряда]
Если ряд $(x_n)$ сходится, то 
$$
\lim_{n \to \infty} x_n =0.
$$
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Достаточно воспользоваться критерием Коши [](#Coshy2) в случае когда $p=1$, мы тогда получим что для любого $\varepsilon >0$ существует такой номер $N$, что при всех $m \ge N$, имеет место неравенство $|s_{m+1} - s_m| < \varepsilon$, но это означает (см. Определение [](#limit_of_seqeunce)), что $\lim_{m \to \infty} (s_{m+1} - s_m)=0$. С другой стороны, 
$$\begin{eqnarray}
s_{m+1} -s_m &=& x_1 + \cdots x_m + x_{m+1} \\
&& - x_1 - \cdots - x_m \\
&=& x_{m+1},
\end{eqnarray}$$
поэтому из сходимости ряда $(x_n)$ следует, что $\lim_{m\to \infty }x_{m+1} = 0$, теперь пологая $m = n-1$ и принимая во внимание, соглашение $s_0 :=0$ мы завершаем доказательство.
:::

:::{warning}
Нужно учесть, что это необходимое условие ни в коем случае не является достаточным. Напимре гармонический ряд этому условию удовлетворяет, но он не сходится.
:::

:::{prf:proposition}
:name: ariph_for_series
Если ряды $(x_n)$ и $(x_n')$ сходятся и имеют суммы $s$ и $s'$, соотвественно, то ряд $(x_n+x_n')$ сходится к сумме $s+s'$, а ряд $(\lambda x_n)$ для любого $\lambda \in \mathbb{R}$ — к сумме $\lambda s.$
:::
:::{prf:proof}
:class: dropdown
:nonumber:~

(1) Последовательность частичных сумм ряда $(x_n + x_n')$ имеет вид 
$$
(x_1 + \cdots + x_n + x_1' + \cdots +x_n')
$$
**т.е.,** $(s_n + s_n')$, но тогда по арифметике предала для последовательнстей (Теорема [](#a+b,ca,ab)), получаем $\lim_{n \to \infty} (s_n + s_n') = s+ s'$, что доказывает первое утверждение.

(2) Последовательность частичных сумм для ряда $(\lambda x_n)$ имеет вид $(\lambda x_1 + \cdots + \lambda x_n)$, **т.е.,** $(\lambda s_n)$, опять воспользовавшись арифметикой предела для последовательностей (Теорема [](#a+b,ca,ab)), мы завершаем доказательство.
:::

Напомним (см. [](#almost_all)), что фраза **почти для всех** означает, что для всех за исключением конечного числа.

:::{prf:definition}
Будем говорить, что ряд $(y_n)$ почти такой же (или почти похож) на ряд $(x_n)$ если $y_n = x_n$ почти для всех $n$, **т.е.,** существует конечное множество $n_1,\ldots, n_\ell$, таких что, $x_{n_1} \ne y_{n_1},\ldots, x_{n_\ell} \ne y_{n_\ell}$, но $x_n = y_n$ для всех остальных $n.$
:::

:::{prf:lemma}
:name: almost_for_series
Если $(x_n)$ и $(x_n')$ почти похощие ряды, то оба они сходятся или расходятся.
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Рассмотрим ряд $(x_n''): = (x_n - x_n')$, тогда почти все его элементы равны нулю, а это значит, что он сходится, **т.е.,** мы имеем $ \lim_{n \to \infty} s''_n = s''$. 

(1) Пусть ряд $(x_n')$ сходится и пусть $\lim_{n \to \infty}s_n' =s'$, тогда согласно Предложению [](#ariph_for_series), ряд $(x_n'' + x_n')$ ряд тоже сходится к сумме $s''+s'$, но $x_n''+x_n' = x_n$, **т.е.,** ряд $(x_n)$ сходится.

(2) Пусть теперь ряд $(x_n')$ расходится, а ряд $(x_n)$ сходится. Опять рассмотрим ряд $(x_n''): = (x_n - x_n')$ у которого почти все элементы нулевые, а значит он сходится, и мы опять положим $\lim_{n \to \infty}s_n'' = s''.$ Рассмотрим ряд $(x_n - x_n'')$, по предложению [](#ariph_for_series), получаем, что этот ряд сходится, но, $x_n - x_n'' = x_n'$ и мы тем самым пришли к тому, что ряд $(x_n')$ сходится, что противоречит предположению, следовательно, ряд $(x_n)$ не может быть сходящимся, **т.е.,** из расходимости ряда $(x_n')$ следует расходимость ряда $(x_n).$
:::


## Положительные ряды

Перейдём теперь к рядам с положительными элементами. Будем говорить, что ряд $(x_n)$ **положительный** если все $x_n >0$.

Специфиа таких рядом проявляется сразу же.

:::{prf:theorem}[Критерий сходимости положительного ряда]
:name: criteria_for_positive_series
Положительный ряд $(x_n)$ сходится тогда и только тогда, когда последовательность $(s_n)$ его частичных сумм ограничена.
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Действительно, в таком случае последовтельность $(s_n)$ его частичных сумм — строго возрастает, тогда если последовательность $(s_n)$ ограничена, то по теореме Вейрштрасса [](#Weierstrass) она имеет приедел, **т.е.,** ряд сходится. С другой строны, пусть ряд сходится, тогда $\lim_{n\to \infty} s_n =s$, **т.е.,** для любого $\varepsilon >0$ надйдётся такой номер $N$, что при всех $n \ge N$, $s-\varepsilon < s_n < s+ \varepsilon$, но $(s_n)$ — возрастающая, значит все $s_i < s + \varepsilon$, **т.е.,** последовательность $(s_n)$ ограничена.
:::

Из этого критерия вытекают многочисленные следствия.

:::{prf:corollary}[Признак сравнения 1]
:name: cor1_for_series
Пусть $(x_n)$, $(x_n')$ — два положительных ряда, при этом $x_n \le x_n'$ почти для всех $n$. Если ряд $(x_n')$ сходится, то сходится и ряд $(x_n)$. Если же ряд $(x_n)$ расходится, то расходится и ряд $(x_n').$
:::
:::{prf:proof}
:class: dropdown
:nonumber: 

Если неравенства $x_n\le x_n'$ не выпонены для каких то конечных значений $n$, скажем, $n = n_1,\ldots, n_\ell$, то рассмотрим ряды $(y_n)$, $(y_n')$ определённые следующим образом 
$$
y_n = \begin{cases}
x_n, & n \ne n_1,\ldots, n_\ell,\\
0, & n = n_1,\ldots, n_\ell,
\end{cases} \qquad  y'_n = \begin{cases}
x'_n, & n \ne n_1,\ldots, n_\ell,\\
0, & n = n_1,\ldots, n_\ell
\end{cases} 
$$
котрый почти похожи на ряды $(x_n)$ и $(x_n')$ соответственно. согласно лемме [](#almost_for_series), ряды $(y_n)$, $(y_n')$ имеют тот же характер сходимости как и ряды $(x_n)$, $(x_n')$ соответственно. Поэтому исследование характера сходимосит рядов $(x_n)$, $(x_n')$ сводится к исследованию характера рядов $(y_n)$, $(y_n')$. Это означает, что мы без ограничения общности, можем считать, что неравенства $x_n \le x_n'$ выполняются для всех $n\ge 1.$

(1) Пусть ряд $(x_n')$ сходится, тогда по Теореме [](#criteria_for_positive_series), последовательность его частичных сумм $(s_n')$ ограничена, скажем числом $\alpha$, **т.е.,** $s'_n < \alpha$ для всех $n.$ С другой стороны, по условию $x_n \le x_n'$, тогда в силу положительности рядов
$$
s_n = x_1 + \cdots + x_n \le x_1' + \cdots + x_n' = s_n' < \alpha
$$
для всех $n$, **т.е.,** последовательность частичных сумм ряда $(x_n)$ ограничена, тогда по теореме [](#criteria_for_positive_series), ряд $(x_n)$ сходится.

(2) Пусть ряд $(x_n)$ расходится, тогда по теореме [](#criteria_for_positive_series), последовательность $(s_n)$ неограниченна. Так как последовательность $(s_n)$ возрастает, то неограниченность означает, что для любого числа $M \in \mathbb{N}$ найдётся такой номер $n\in \mathbb{N}$, что все $s_n, s_{n+1}, \ldots > M$. С другой стороны, как мы уже видели $s_n' \ge s_n$, таким образом, для всех $m \ge n$, получаем $s'_m \ge s_m > M$, **т.е.,** последовательность $(s_n')$ неограничена, а тогда по теореме [](#criteria_for_positive_series), ряд $(x_n')$ расходится.
:::

:::{prf:corollary}[Признак сравнения 2]
Пусть ряды $(x_n)$, $(y_n)$ положительные, и начиная с некоторого $N$, выполняются неравенства 
$$
\frac{y_{n+1}}{y_n} \le \frac{x_{n+1}}{x_n}.
$$
Тогда если ряд $(x_n)$ сходится, то ряд $(y_n)$ тоже сходится. Если же ряд $(y_n)$ расходится, то расходится и ряд $(x_n).$
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Пусть $\lambda = \frac{x_N}{y_N}$, тогда, согласно Предложению [](#ariph_for_series), если ряд $(y_n)$ сходится, то сходится и ряд $(\lambda y_n)$, но $N$-ый элемент ряда $(\lambda y_n)$ есть $\lambda y_N = \frac{x_N}{y_N}y_N = x_N$. Поэтому, без ограничения общности, мы можем считать, что $x_N = y_N.$ Тогда из неравенства $\frac{y_{N+1}}{y_N} \le \frac{x_{N+1}}{x_N}$ следует, что $y_{N+1} \le x_{N+1}$.

Далее, из неравенства $\frac{y_{N+2}}{y_{N+1}} \le \frac{x_{N+2}}{x_{N+1}}$ получаем $x_{N+1}y_{N+2} \le y_{N+1} x_{N+2}$, но $y_{N+1} \le x_{N+1}$ и в силу положительности всех элементов, получаем 
$$
x_{N+1}y_{N+2} \le y_{N+1} x_{N+2} \le x_{N+1}x_{N+2}
$$
тогда $y_{N+2} \le x_{N+2}$, и продолжая, мы по инудкции получаем, что $y_n \le x_n$ для всех $n \le N$. Теперь воспользовавшись признаком сравнения 1 (Следствие [](#cor1_for_series)) мы завершаем доказательство.
:::

:::{prf:corollary}[Пределльный признак сравнения]
:name: critical_for_series
Пусть $(x_n)$, $(x_n')$ два положительных ряда, тогда если существует конечный предел
$$
\lim_{n \to \infty} \frac{x_n}{x_n'} = q, \qquad 0 < q < \infty
$$
то оба ряда сходятся или расходятся одновременно.
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Согласно определению предела последовательности [](#limit_of_seqeunce), равенство $\lim_{n \to \infty} \frac{x_n}{x_n'} = q$ означает, что для любого $\varepsilon >0$ найдётся такой номер $N$, что верны неравенства
$$
q-\varepsilon < \frac{x_n}{x_n'} < q+ \varepsilon, \qquad n \ge N.
$$

Таким образом, почти для всех $n\ge 1$ имеем $x_n < (q+\varepsilon)x_n'$, тогда по признаку сравнения 1 (Следствие [](#cor1_for_series)), ряды $(x_n)$, $((q+\varepsilon)x_n')$ имеют одинаковый характер сходимосит, а согласно [](#ariph_for_series), характер сходимости ряда $((q+\varepsilon)x_n')$ такой же как у ряда $(x_n')$, что и завершает доказательство.
:::


:::{prf:corollary}[Признаки сравнения Даламбера]
:name: Dalamber_criteria_for_series
Пусть дан положительный ряд $(x_n)$.

1. Если
$$
\frac{x_{n+1}}{x_n} \le q <1, \qquad n \ge 0,
$$
то ряд $(x_n)$ сходится; если же
$$
\frac{x_{n+1}}{x_n} \ge 1, \qquad n \ge 0,
$$
то ряд $(x_n)$ расходится.

2. Если 
$$
\lim_{n \to \infty} \frac{x_{n+1}}{x_n} = q
$$
то ряд $(x_n)$ при $q<1$ сходится, а при $1 < q \le \infty$ расходится.

:::

:::{prf:proof}
:class: dropdown
:nonumber:~

(1) Имеем для каждого $n \ge 2$
$$
x_n = x_1 \cdot \frac{x_2}{x_1}\cdot \frac{x_3}{x_2} \cdots \frac{x_{n-1}}{x_{n-2}}\cdot \frac{x_n}{x_{n-1}},
$$
по условию
$$
\frac{x_2}{x_1}, \frac{x_3}{x_2}, \ldots, \frac{x_n}{x_{n-1}} \le q < 1,
$$
тогда
$$
x_n = x_1 \cdot \frac{x_2}{x_1}\cdot \frac{x_3}{x_2} \cdots \frac{x_{n-1}}{x_{n-2}}\cdot \frac{x_n}{x_{n-1}} \le x_1 q^{n-1}.
$$

С другой стороны, (см. пример [](#geometric_series_and_ML_series)) ряд $(q^n)$ сходится при $q<1$, а тогда по предложению [](#ariph_for_series), ряд $(x_1q^n)$ тоже сходится. Наконец, по признаку 1 (Следствие [](#cor1_for_series)) ряд $(x_n)$ сходится.

(2) Если же 
$$
\frac{x_2}{x_1}, \frac{x_3}{x_2}, \ldots, \frac{x_n}{x_{n-1}} > 1,
$$
то
$$
x_n \ge x_1, \qquad n \ge 2.
$$

Ряд $(y_n)$, где все $y_n = x_1$ очевидно расходится, тогда по признаку 1 (Следствие [](#cor1_for_series)), ряд $(x_n)$ тоже расходится.

(3) Пусть $\lim_{n \to \infty} \frac{x_{n+1}}{x_n}= q$, тогда по определению [](#limit_of_seqeunce), для любого $\varepsilon >0$ существует такой $N$, что для всех $n \ge N$, имеют место неравенства
$$
q - \varepsilon < \frac{x_{n+1}}{x_n} < q + \varepsilon.
$$

Если $q<1$, то пусть $q+\varepsilon <1$, тогда для всех $n \ge N$, $\frac{x_{n+1}}{x_n} \le 1$, тогда 

:::