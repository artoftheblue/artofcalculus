# Числовые ряды

Пусть $\mathbb{R}$ — числовая прямая, снабжённая обычной нормой $\|x \|:= |x|$, $x\in \mathbb{R}.$

:::{prf:definition}
:label: number_series
Пара последовательностей $(x_n)_{n \ge 1}$, $(s_n)_{n \ge 1}$ называется **рядом**, если их элементы $x_n$, $s_n$ при любом $n$ связаны соотношениями
$$
s_n = x_1 + \cdots + x_n,
$$
или, что равносильно
$$
x_1=s_1, \qquad x_n = s_n-s_{n-1}, \qquad n\ge 1.
$$
где мы, для удобств, положили, что $s_0:=0$.

Элемент $x_n$ называется **$n$-ым элементом**, **$s_n$ — $n$-й частичной суммой** ряда. 

Рассматриваемый ряд часто нзывается **рядом с общим элементом $x_n$** или просто **рядом** $(x_n)$. Принято также писать, что дан ряд $\sum_{n=1}^\infty x_n$, что следует признать неудачным.[^footnote341]
:::

:::{prf:example} Приведём некоторые примеры

1. Ряд
$$
\left(\frac{1}{n} \right)_{n\ge 1}, \qquad \left(\sum_{k=1}^n \frac{1}{n} \right)_{n\ge 1}
$$
называется **гармоническим рядом**, также пишут $\sum_{n=1}^\infty \frac{1}{n}.$
2.
$$
(q^n)_{n\ge 1},\qquad (1+q+\cdots +q^n)_{n\ge 1}.
$$
3.
$$
(n)_{n \ge 1}, \qquad \left(1+2+\cdots + n \right)_{n \ge 1}.
$$

4. Ряд 
$$
\left(\frac{(-1)^k}{2k+1}\right)_{k \ge 0}, \qquad \left(1-\frac{1}{3} + \frac{1}{5} + \cdots + \frac{(-1)^k}{2k+1}\right)_{k\ge 0} 
$$
называется **рядом Мадхавы — Лейбинца (Madhava–-Leibniz series)**. 
    
:::




:::{prf:definition}
:label: converging_series
Ряд $(x_n)$ называется **сходящимся к $s$**, если $\lim_{n \to \infty}s_n = s$; в этом случае $s$ называют **суммой** ряда и пишут $s = x_1 + x_2+\cdots + x_n + \cdots$ или $s = \sum_{n=1}^\infty x_n$. Величина $r_n: = s-s_n$ называется **$n$-ым остатком ряда**.
:::

:::{prf:example}
:name: geometric_series_and_ML_series

Вернёмся к предыдущим примерам.

1. Рассмотрим ряд $(q^n)$, нетрудно видеть, что последовательность его частичных сумм описывается как
$$
s_n  = \begin{cases}
\frac{1-q^n}{1-q}, & q \ne 1,\\
n, & q =1.
\end{cases}
$$
Тогда, если $q \ne 1$, имеем
$$
\lim_{n \to \infty} s_n = \lim_{n \to \infty} \frac{1-q^n}{1-q} = \frac{1}{1-q} \left( 1- \lim_{n \to \infty} q^n \right)
$$
т.е. предел существует, если и только если $q<1$. Таким образом, ряд $(q^n)$ сходится, если и только если $q<1.$

2. Рассмотрим ряд Мадхавы—Лейбница, мы позже докажем, что оказывается, он сходящийся, и более того, мы покажем, что имеет место красивая формула
$$
\frac{\pi}{4} = \lim_{k \to \infty} s_k = \sum_{k=1}^\infty \frac{(-1)^k}{2k+1} = 1-\frac{1}{3} + \frac{1}{5} - \frac{1}{7} + \frac{1}{11}-\ldots.
$$

:::


:::{prf:lemma}
Пусть $(x_n)_{n\ge 1}$ — сходящийся ряд и $s$ — его сумма, тогда $\lim_{n \to \infty }r_n = 0.$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Имеем $s = x_1+x_2+\cdots + x_n +\cdots$, $s_n = x_1 + x_2 + \cdots + x_n$, тогда $r_n = s-s_n = x_{n+1}+ x_{n+2} + \cdots + x_{n+k} + \cdots$. Так как по условию $\lim_{n \to \infty} s_n = s$, то по арифметике предела (Теорема [](#a+b,ca,ab)), 
$$\begin{eqnarray}
\lim_{n \to \infty} r_n &=& \lim_{n \to \infty}(s- s_n) \\
&=&  \lim_{n \to \infty} s -  \lim_{n \to \infty} s_n \\
&=& s- s = 0.
\end{eqnarray}$$
:::




:::{prf:theorem} Критерий Коши
:name: Coshy2
Ряд $(x_n)_{n\ge 1}$ сходится, если и только если для любого $\varepsilon >0$ существует такой номер $N$, что при $n \ge N$, $p\ge 1$ имеет место неравенство
$$
|s_{n+p} -s_n| = |x_{n+1}+ \cdots + x_{n+p}| < \varepsilon.
$$
:::

:::{prf:proof}
:class: dropdown
:nonumber:
Для ряда $(x_n)$ рассмотрим последовательность $(s_n)$ его частичных сумм, тогда согласно определению, $(x_n)$ сходится, если и только если $\lim_{n \to \infty} s_n = s$, а тогда по критерию Коши [](#Coshy) $(s_n)$ — фундаментальная (Определение [](#foundamental_sequence)), т.е. мы получаем следующее: $(s_n)$ — сходится, если и только если для любого $\varepsilon >0$ существует такой номер $N$, что при всех $n,m \ge N$, $|s_m- s_n| < \varepsilon$.

Без ограничения общности мы можем положить, что $m>n$, т.е. $m= n+p$, где $p \ge 1$, в результате получаем следующее: последовательность $(s_n)$ сходится, если и только если для любого $\varepsilon >0$ существует такой номер $N$, что для любого $n \ge N$, $p \ge 1$ имеет место
$$
|s_{n+p} - s_n| = |x_{n+1} + \cdots+  x_{n+p}| < \varepsilon,
$$
что и требовалось доказать.
:::


:::{prf:corollary} Необходимое условие сходимости ряда
:label: c3proof16
Если ряд $(x_n)$ сходится, то 
$$
\lim_{n \to \infty} x_n =0.
$$
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Достаточно воспользоваться критерием Коши [](#Coshy2) в случае когда $p=1$, мы тогда получим что для любого $\varepsilon >0$ существует такой номер $N$, что при всех $m \ge N$, имеет место неравенство $|s_{m+1} - s_m| < \varepsilon$, но это означает (см. Определение [](#limit_of_seqeunce)), что $\lim_{m \to \infty} (s_{m+1} - s_m)=0$. С другой стороны, 
$$\begin{align*}
s_{m+1} -s_m &=& x_1 + \cdots x_m + x_{m+1} \\
&& - x_1 - \cdots - x_m \\
&=& x_{m+1},
\end{align*}$$
поэтому из сходимости ряда $(x_n)$ следует, что $\lim_{m\to \infty }x_{m+1} = 0$, теперь полагая $m = n-1$ и принимая во внимание соглашение $s_0 :=0$, мы завершаем доказательство.
:::

:::{warning}
Нужно учесть, что это необходимое условие ни в коем случае не является достаточным. Например, гармонический ряд этому условию удовлетворяет, но он не сходится.
:::

:::{prf:proposition}
:name: ariph_for_series
Если ряды $(x_n)$ и $(x_n')$ сходятся и имеют суммы $s$ и $s'$ соответственно, то ряд $(x_n+x_n')$ сходится к сумме $s+s'$, а ряд $(\lambda x_n)$ для любого $\lambda \in \mathbb{R}$ — к сумме $\lambda s.$
:::
:::{prf:proof}
:class: dropdown
:nonumber:~

(1) Последовательность частичных сумм ряда $(x_n + x_n')$ имеет вид 
$$
(x_1 + \cdots + x_n + x_1' + \cdots +x_n')
$$
т.е. $(s_n + s_n')$, но тогда по арифметике предела для последовательностей (Теорема [](#a+b,ca,ab)) получаем $\lim_{n \to \infty} (s_n + s_n') = s+ s'$, что доказывает первое утверждение.

(2) Последовательность частичных сумм для ряда $(\lambda x_n)$ имеет вид $(\lambda x_1 + \cdots + \lambda x_n)$, т.е. $(\lambda s_n)$, опять воспользовавшись арифметикой предела для последовательностей (Теорема [](#a+b,ca,ab)), мы завершаем доказательство.
:::

(c3def15)=
Напомним (см. [](#almost_all)), что фраза **почти для всех** означает, что для всех за исключением конечного числа.

:::{prf:definition}
Будем говорить, что ряд $(y_n)$ почти такой же (или почти похож) на ряд $(x_n)$, если $y_n = x_n$ почти для всех $n$, т. е. существует конечное множество $n_1,\ldots, n_\ell$, таких что, $x_{n_1} \ne y_{n_1},\ldots, x_{n_\ell} \ne y_{n_\ell}$, но $x_n = y_n$ для всех остальных $n.$
:::

:::{prf:lemma}
:name: almost_for_series
Если $(x_n)$ и $(x_n')$ почти похожие ряды, то оба они сходятся или расходятся.
:::
:::{prf:proof}
:class: dropdown
:nonumber:
Рассмотрим ряд $(x_n''): = (x_n - x_n')$, тогда почти все его элементы равны нулю, а это значит, что он сходится, т. е. мы имеем $ \lim_{n \to \infty} s''_n = s''$. 

(1) Пусть ряд $(x_n')$ сходится, и пусть $\lim_{n \to \infty}s_n' =s'$, тогда согласно Предложению [](#ariph_for_series), ряд $(x_n'' + x_n')$ ряд тоже сходится к сумме $s''+s'$, но $x_n''+x_n' = x_n$, т. е. ряд $(x_n)$ сходится.

(2) Пусть теперь ряд $(x_n')$ расходится, а ряд $(x_n)$ сходится. Опять рассмотрим ряд $(x_n''): = (x_n - x_n')$, у которого почти все элементы нулевые, а значит, он сходится, и мы опять положим $\lim_{n \to \infty}s_n'' = s''.$ Рассмотрим ряд $(x_n - x_n'')$, по предложению [](#ariph_for_series), получаем, что этот ряд сходится, но $x_n - x_n'' = x_n'$, и мы тем самым пришли к тому, что ряд $(x_n')$ сходится, что противоречит предположению, следовательно, ряд $(x_n)$ не может быть сходящимся, т.е. из расходимости ряда $(x_n')$ следует расходимость ряда $(x_n).$
:::

[^footnote341]: Символ $\sum$ указывает на процесс суммирования (то есть это операция), а ряд мы себе мыслим всё же как последовательность. Впрочем, я не одинок в таком представлении, определение взято из книги Ж. Дьёдонне *Основы современного анализа*.